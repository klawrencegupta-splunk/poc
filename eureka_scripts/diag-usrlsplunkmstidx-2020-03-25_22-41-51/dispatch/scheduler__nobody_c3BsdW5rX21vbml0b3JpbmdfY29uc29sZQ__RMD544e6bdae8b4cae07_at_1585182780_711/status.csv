keywords,"relevant_fields","remote_timeline",search,"optimized_search","phase_0_search","phase_1_search",latest,"api_lt","search_lt","events_streamed",streaming,servers,"search_providers","remote_search","normalized_search","search_can_be_event_type","report_search","events_search",label,"is_saved_search","savedsearch_label","can_summarize","lookups_enabled",realtimesearch,batchmodesearch,"time_cursored","column_order","events_sorted",user,"status_buckets","max_time","max_count","reduce_freq","required_fields","sample_ratio","sample_seed","preview_enabled","num_previews","result_preview_count",pid,"is_events_preview_enabled",provenance,priority,"max_cache_miss_bucket_fetch_time","max_cache_miss_bucket_fetch_time_peer","fieldmeta_static",start,error,state,"run_time",done,"scan_count","drop_count",resultcount,count,"available_count","events_istruncated","events_fields_count","remote_search_logs",cursor,"searched_buckets","eliminated_buckets","disk_usage","fieldmeta_results"
"is_active::1","percentage
totalGB
usedGB",0,"| rest splunk_server_group=dmc_group_license_master /services/licenser/pools 
| join type=outer stack_id splunk_server [rest splunk_server_group=dmc_group_license_master /services/licenser/groups | search is_active=1 | eval stack_id=stack_ids | fields splunk_server stack_id is_active] 
| search is_active=1 
| fields splunk_server, stack_id, used_bytes 
| join type=outer stack_id splunk_server [rest splunk_server_group=dmc_group_license_master /services/licenser/stacks | eval stack_id=title | eval stack_quota=quota | fields splunk_server stack_id stack_quota] 
| stats sum(used_bytes) as used_bytes max(stack_quota) as stack_quota by splunk_server 
| eval usedGB=round(used_bytes/1024/1024/1024,3) 
| eval totalGB=round(stack_quota/1024/1024/1024,3) 
| eval percentage=round(usedGB / totalGB, 3)*100 
| fields splunk_server, percentage, usedGB, totalGB 
| where percentage > 90 
| rename splunk_server AS Instance, percentage AS ""License quota used (%)"", usedGB AS ""License quota used (GB)"", totalGB as ""Total license quota (GB)"""," | rest splunk_server_group=dmc_group_license_master /services/licenser/pools | join max=1 overwrite=1 type=outer usetime=0 splunk_server,stack_id [ | rest splunk_server_group=dmc_group_license_master /services/licenser/groups| search is_active=1 | eval stack_id=stack_ids | fields + splunk_server, stack_id, is_active]| search is_active=1 | fields + splunk_server, stack_id, used_bytes | join max=1 overwrite=1 type=outer usetime=0 splunk_server,stack_id [ | rest splunk_server_group=dmc_group_license_master /services/licenser/stacks | eval stack_id=title | eval stack_quota=quota | fields + splunk_server, stack_id, stack_quota] | stats sum(used_bytes) as used_bytes max(stack_quota) as stack_quota by splunk_server | eval usedGB=round((((used_bytes / 1024) / 1024) / 1024),3) | eval totalGB=round((((stack_quota / 1024) / 1024) / 1024),3) | eval percentage=(round((usedGB / totalGB),3) * 100) | fields + splunk_server, percentage, usedGB, totalGB | where (percentage > 90) | rename percentage as ""License quota used (%)"", splunk_server as Instance, totalGB as ""Total license quota (GB)"", usedGB as ""License quota used (GB)""","prerest  splunk_server_group=""dmc_group_license_master"" timeout=60 ""/services/licenser/pools?count=0""","rest  splunk_server_group=dmc_group_license_master /services/licenser/pools  | join  max=1 overwrite=1 type=outer usetime=0 splunk_server,stack_id  [ | rest splunk_server_group=dmc_group_license_master /services/licenser/groups| search is_active=1 | eval stack_id=stack_ids | fields + splunk_server, stack_id, is_active] | search is_active=1  | fields  + splunk_server, stack_id, used_bytes  | join  max=1 overwrite=1 type=outer usetime=0 splunk_server,stack_id  [ | rest splunk_server_group=dmc_group_license_master /services/licenser/stacks | eval stack_id=title | eval stack_quota=quota | fields + splunk_server, stack_id, stack_quota]   | stats  sum(used_bytes) as used_bytes max(stack_quota) as stack_quota by splunk_server  | eval  usedGB=round((((used_bytes / 1024) / 1024) / 1024),3)  | eval  totalGB=round((((stack_quota / 1024) / 1024) / 1024),3)  | eval  percentage=(round((usedGB / totalGB),3) * 100)  | fields  + splunk_server, percentage, usedGB, totalGB  | where  (percentage > 90)  | rename  percentage as ""License quota used (%)"", splunk_server as Instance, totalGB as ""Total license quota (GB)"", usedGB as ""License quota used (GB)""","1585182780.000000000","1585182780.000000000","1585182780.000000000",1,0,"*",usrlsplunkmstidx,"prerest  splunk_server_group=""dmc_group_license_master"" timeout=60 ""/services/licenser/pools?count=0""","prerest splunk_server_group=""dmc_group_license_master"" timeout=60 ""/services/licenser/pools?count=0""",0,"rest  splunk_server_group=dmc_group_license_master /services/licenser/pools | join  max=1 overwrite=1 type=outer usetime=0 splunk_server,stack_id  [ | rest splunk_server_group=dmc_group_license_master /services/licenser/groups| search is_active=1 | eval stack_id=stack_ids | fields + splunk_server, stack_id, is_active] | search is_active=1 | fields  + splunk_server, stack_id, used_bytes | join  max=1 overwrite=1 type=outer usetime=0 splunk_server,stack_id  [ | rest splunk_server_group=dmc_group_license_master /services/licenser/stacks | eval stack_id=title | eval stack_quota=quota | fields + splunk_server, stack_id, stack_quota]  | stats  sum(used_bytes) as used_bytes max(stack_quota) as stack_quota by splunk_server | eval  usedGB=round((((used_bytes / 1024) / 1024) / 1024),3) | eval  totalGB=round((((stack_quota / 1024) / 1024) / 1024),3) | eval  percentage=(round((usedGB / totalGB),3) * 100) | fields  + splunk_server, percentage, usedGB, totalGB | where  (percentage > 90) | rename  percentage as ""License quota used (%)"", splunk_server as Instance, totalGB as ""Total license quota (GB)"", usedGB as ""License quota used (GB)""","","DMC Alert - Total License Usage Near Daily Quota",1,"{""owner"":""nobody"",""app"":""splunk_monitoring_console"",""sharing"":""app""}",0,1,0,0,0,"Instance
License quota used (%)
License quota used (GB)
Total license quota (GB)
_*",none,"splunk-system-user",0,"8640000.000",500000,10,"prestats_reserved_*
psrsvd_*",1,0,0,0,0,1936,0,scheduler,5,0,"","Instance;unknown\;groupby_rank\;0\;;License quota used (%);num\;;License quota used (GB);num\;;Total license quota (GB);num\;;",1585182781,"",DONE,"0.234",1,0,0,0,0,0,0,0,,0,0,0,335872,"Instance;unknown\;groupby_rank\;0\;;License quota used (%);num\;;License quota used (GB);num\;;Total license quota (GB);num\;;"
